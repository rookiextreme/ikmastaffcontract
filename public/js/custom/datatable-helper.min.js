function DatatableInit({url:t="",method:e="GET",data:n=new FormData,selector:a,columns:r=[],prev:i,next:o}){this.url=t,this.method=e,this.data=n,this.selector=a,this.prev=i,this.next=o,this.columns=r}DatatableInit.prototype.run=async function(t=this.selector,e=this.columns,n=this.prev,a=this.next){return await fetch(this.url,{method:this.method,body:this.data,headers:{Accept:"application/json"}}).then(function(r){if(r.ok)return r.json().then(function(r){r.current_page,r.per_page;let i=r.total_count;r.number_of_pages,r.found_count,document.querySelector(n).setAttribute("data-page",r.previous_page),document.querySelector(a).setAttribute("data-page",r.next_page);let o=r.results,s=o.length,l=document.querySelector(t),u=l.querySelector("tbody");u.innerHTML="";let c=document.createDocumentFragment();if(i>0)for(let d=0;d<s;d++){let h=document.createElement("tr"),p=o[d].attr.length;if(p>0)for(let g=0;g<p;g++)h.setAttribute(o[d].attr[g].name,o[d].attr[g].value);for(let f=0;f<e.length;f++){let m=document.createElement("td");void 0!=e[f].raw?m.innerHTML=e[f].raw(o[d]):void 0!=o[d].columns[e[f].data]&&(m.innerHTML=o[d].columns[e[f].data]),h.appendChild(m)}c.appendChild(h)}else{let y=document.createElement("tr"),b=document.createElement("td");b.setAttribute("colspan",e.length),b.setAttribute("style","text-align:center"),b.textContent="No Data Found",y.appendChild(b),c.appendChild(y)}u.appendChild(c);let v=l.closest("div").querySelector(".show-count");v&&v.remove();let S=document.createDocumentFragment(),q=document.createElement("div");q.setAttribute("class","text-end show-count"),q.innerHTML=`Showing <span>${r.max}</span> of <span>${i}</span>`,S.appendChild(q),l.after(S),document.querySelector(a).disabled=!!r.disable_next,document.querySelector(n).disabled=!!r.disable_prev});r.json().then(function(t){alert("Ajax Error!")})}).catch(function(t){return!1}),this},DatatableInit.prototype.setSearchButton=function(t){let e=this.data,n=this,a;return document.querySelector(t)&&document.querySelector(t).addEventListener("keyup",function(){clearTimeout(a);let t=this.value;a=setTimeout(function(){e.set("search",t),e.set("page",1),n.run()},200)}),this},DatatableInit.prototype.setupChangePage=function(t,e){let n=this.data,a=this;document.querySelector(t)&&(document.querySelector(t).addEventListener("click",function(){n.set("page",this.getAttribute("data-page")),a.run()}),document.querySelector(e).addEventListener("click",function(){n.set("page",this.getAttribute("data-page")),a.run()}))};